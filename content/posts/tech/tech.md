---
title: "Tech"
date: 2022-05-05T00:17:58+08:00
lastmod: 2022-05-05T00:17:58+08:00
author: ["Sulv"]
keywords: 
- 
categories: 
- 
tags: 
- tech
description: ""
weight:
slug: ""
draft: false # æ˜¯å¦ä¸ºè‰ç¨¿
comments: true
reward: false # æ‰“èµ
mermaid: true #æ˜¯å¦å¼€å¯mermaid
showToc: true # æ˜¾ç¤ºç›®å½•
TocOpen: true # è‡ªåŠ¨å±•å¼€ç›®å½•
hidemeta: false # æ˜¯å¦éšè—æ–‡ç« çš„å…ƒä¿¡æ¯ï¼Œå¦‚å‘å¸ƒæ—¥æœŸã€ä½œè€…ç­‰
disableShare: true # åº•éƒ¨ä¸æ˜¾ç¤ºåˆ†äº«æ 
showbreadcrumbs: true #é¡¶éƒ¨æ˜¾ç¤ºè·¯å¾„
cover:
    image: "" #å›¾ç‰‡è·¯å¾„ä¾‹å¦‚ï¼šposts/tech/123/123.png
    caption: "" #å›¾ç‰‡åº•éƒ¨æè¿°
    alt: ""
    relative: false
---


# æ‰‹æ‘¸æ‰‹ä½¿ç”¨Electronæ”¹é€ Vueé¡¹ç›®ï¼ˆä¸€ï¼‰

## å‰è¨€

> ~~ä¸ºä»€ä¹ˆè¦çªç„¶è¦çœ‹Electronï¼Œå·èµ·æ¥ï¼Œä¸å¾—ä»€ä¹ˆéƒ½å¾—çœ‹çœ‹~~ğŸ´

### ç°é˜¶æ®µé¢ä¸´çš„ç—›ç‚¹

- æƒé™é™åˆ¶
    - ç³»ç»Ÿçº§é€šçŸ¥
    - æ–‡ä»¶åŠ è½½æƒé™
    - ä¸ç³»ç»Ÿçš„äº¤äº’
- å…¼å®¹æ€§é™åˆ¶ï¼ˆåœ¨äº’è”ç½‘ä¸Šï¼Œæ²¡äººçŸ¥é“ä½ æ˜¯ä¸€æ¡ç‹—ï¼ŒåŒæ ·çš„ï¼Œåœ¨äº’è”ç½‘ä¸Šï¼Œä½ æ°¸è¿œä¸çŸ¥é“å®¢æˆ·ä½¿ç”¨çš„ç‰ˆæœ¬ä¼šæ˜¯å¤šå¤æ—©çš„ç‰ˆæœ¬ï¼‰
    - æ–°çš„API
    - éƒ¨åˆ†è§£æåº“

### é‚£ä¸ºä»€ä¹ˆä¸æ˜¯`Flutter`æˆ–å…¶ä»–è·¨å¹³å°æ¡Œé¢åº”ç”¨æ„å»º

ä¸å¯å¦è®¤çš„æ˜¯ï¼Œ `Fultter`çš„è‡ªç»˜æ€§èƒ½è¦å¥½äºELectronï¼Œä½†`Fultter`æœ‰ä¸€ä¸ªå­¦ä¹ çš„æˆæœ¬å­˜åœ¨ï¼Œä¸”æ— æ³•çŸ­æ—¶é—´æˆ–è€…è¾ƒå°‘çš„ç²¾åŠ›æƒ…å†µä¸‹ä¿®æ”¹å·²æœ‰é¡¹ç›®~~ï¼ˆä¸»è¦æ˜¯ä¸ä¼šï¼Œç•™ç€ä¸‹æ¬¡å·ï¼‰~~



## é‚£å¼€å§‹æŠŠï¼Œä»å®‰è£…å¼€å§‹

### 0. å¼€å‘ç¯å¢ƒ

- M1 MacOs Monterey **v12.5**
- Node **v16.16.0**
- Npm **v8.16.0**
- Yarn **v3.2.2**
- Electron **v20.0.2**
- python **v2.7.18**

### 1. å¼€å§‹æ­å»ºDemoåŠç¯å¢ƒ

#### 1.1 å¯»æ‰¾ä¸€ä¸ªvueé¡¹ç›®

> æ­¤å¤„ä½¿ç”¨Vue-typescript-admin-templateä»£æ›¿å¸¸è§„çš„Vueé¡¹ç›®æ–¹ä¾¿ç†è§£ï¼Œå®é™…å¼€å‘ä¸­ä¸å»ºè®®ä½¿ç”¨Webç°æˆæ¡†æ¶å®Œæˆï¼Œä¸å…‰æ˜¯å…¶ä¸­çš„éƒ¨åˆ†å…¼å®¹é—®é¢˜éœ€è¦å¤„ç†ï¼ŒåŒæ—¶å®¢æˆ·ç«¯ç»™ä¸ç”¨æˆ·çš„ä½¿ç”¨ä½“éªŒä¹Ÿåº”è¯¥æ˜¯ä¸åŒçš„ï¼Œæ¯”å¦‚Dockæ ç­‰çš„æ“ä½œã€‚å¦‚æœå¯ä»¥ï¼Œæœ€å¥½å¯»æ‰¾ä¸‹æ›´è´´åˆå®¢æˆ·ç«¯UI/UXçš„åº“æˆ–è€…é¢å¤–å®ç°

æ­¤å¤„é¡¹ç›®æ”¹é€ ç¤ºä¾‹ä½¿ç”¨çš„æ˜¯ `vue-typescript-admin-template`[^1]

```bash
git clone git@github.com:Armour/vue-typescript-admin-template.git
cd vue-typescript-admin-template
npm i
```

#### 1.2 å®‰è£…Electronåº“

> æ­¤å¤„å¯èƒ½ä¼šå› ä¸ºç½‘ç»œæˆ–è€…ä¸å¯æè¿°çš„é—®é¢˜ä¼šæœ‰å¤±è´¥çš„å¯èƒ½ï¼Œæˆ‘ä¸¾ä¾‹æˆ‘å¤„ç†è¿‡çš„éƒ¨åˆ†ï¼Œå¤§éƒ¨åˆ†Googleéƒ½æœ‰å¤§ç¥ç»™å‡ºäº†è§£å†³æ–¹æ¡ˆ

```bash
# å…¨å±€å®‰è£…
npm i  electron -g
```

å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œå› ä¸ºELectronä¼šå»githubæ‹‰å–å¾ˆå¤šä¾èµ–åº“ï¼Œå¤§éƒ¨åˆ†æ˜¯ç½‘ç»œçš„é—®é¢˜ï¼Œæ­¤å¤„æˆ‘åˆ—ä¸¾æˆ‘é‡åˆ°çš„éƒ¨åˆ†é—®é¢˜ï¼Œå®˜æ–¹æ–‡æ¡£çš„å®‰è£…æŒ‡å¯¼[^2]é‡Œä¹Ÿæœ‰è§£ç­”ï¼Œæ›´å»ºè®®å»æŸ¥é˜…å®˜æ–¹æ–‡æ¡£

#### 1.2.1 å®‰è£…é—®é¢˜æ±‡æ€»

> å¤§éƒ¨åˆ†è¿™äº›ç½‘ç»œé—®é¢˜å¯ä»¥é€šè¿‡æŒ‚æœºåœºç­‰ä¹‹ç±»çš„æ–¹å¼è§£å†³ï¼Œä½†å¾ˆå¤šæ—¶å€™ä½ ä¼šå‘ç°ç»ˆç«¯æ²¡æœ‰èµ°æœºåœºä»£ç†ï¼Œå› ä¸ºä»£ç†å¸¸è§„æ˜¯socket5çš„ä»£ç†æ–¹å¼ï¼Œåç»­ä½¿ç”¨è½¯è·¯ç”±è§£å†³æ‰è¿™ä¸€éƒ¨åˆ†é—®é¢˜ï¼Œå¦‚æœæœ‰éœ€æ±‚ï¼Œæˆ‘åç»­å†åˆ†äº«è½¯è·¯ç”±çš„æ­å»ºè¿‡ç¨‹

##### ä¾‹å­1ï¼šå®‰è£…æŠ¥é”™  socket hang up

##### ä¾‹å­2ï¼šå®‰è£…æŠ¥é”™ connect timeout

##### ä¾‹å­3ï¼šå®‰è£…é€šè¿‡ï¼Œè¿è¡Œæ—¶æŠ¥é”™ Electron failed to install correctly

â€‹		è¿™äº›æŠ¥é”™é—®é¢˜éƒ½æ˜¯å› ä¸ºæ²¡æœ‰å‡ºå›½å­¦ä¹ çš„é—®é¢˜å¯¼è‡´çš„åº“æ‹‰å–å¤±è´¥



##### å±è”½æ‰ä¹‹å‰é…ç½®çš„å›½å†…æº

```bash
# æŸ¥çœ‹æº
npm config get registry

# è®¾ç½®å®˜æ–¹æº
npm config set registry https://registry.npmjs.org/
```

##### æŸ¥çœ‹å…¨å±€ä»£ç†ï¼šæŸ¥çœ‹è‡ªå·±çš„ç§‘å­¦ä¸Šç½‘ç«¯å£[^3]

æ¯”å¦‚æˆ‘çš„ç§‘å­¦ä¸Šç½‘ä»£ç†ç«¯å£ä¸ºhttp/https: 9999, Socks: 10000

å› ä¸ºåœ¨ç»ˆç«¯ä¸‹ä¸æ”¯æŒ socks5 ä»£ç†ï¼Œåªæ”¯æŒ http ä»£ç†ï¼Œwgetã€curlã€gitã€brewã€composer ç­‰å‘½ä»¤è¡Œå·¥å…·éƒ½ä¼šå˜å¾—å¾ˆæ…¢ã€‚

##### ç©¶æè§£å†³åŠæ³•[^4]

```bash
npx cross-env ELECTRON_GET_USE_PROXY=true GLOBAL_AGENT_HTTPS_PROXY=http://127.0.0.1:9999 npm install -D electron@latest -g 

# å®‰è£…å®Œæˆåï¼Œæ£€æŸ¥ç‰ˆæœ¬
electron -v
# v20.0.2
```



#### 1.3 å®‰è£…æ„å»ºä¾èµ–

```bash
# æ‰“å¼€é¡¹ç›®ç›®å½• ./vue-typescript-admin-template
npm install  electron-builder --save-dev
# æ­¤å¤„ä¾èµ–äºvue-cliè„šæ‰‹æ¶çš„é…ç½®ï¼Œæ‰€ä»¥è¯·å…ˆå…¨å±€å®‰è£…å¥½vue-cli
vue add electron-builder

```

â€‹	å®‰è£…å®Œæˆåé¡¹ç›®ç›®å½•srcä¸­ä¼šæ–°å¢ä¸€ä¸ªbackground.jsçš„æ–‡ä»¶ï¼Œç”¨é€”ä¸ºelectronçš„é…ç½®ï¼Œå¯å‚è€ƒå®˜ç½‘apiæ–‡æ¡£è°ƒæ•´ã€‚

â€‹	ä¸”package.jsonçš„scriptsä¹Ÿä¼šå¢åŠ ä¸¤æ¡å‘½ä»¤

#### 1.4 è¿è¡Œ

``` bash
npm run electron:serve
```

â€‹	æ­¤æ—¶ä¾¿ä¼šè¿è¡Œä¸€ä¸ªDemoåº”ç”¨å•¦

![image-20220811195137954](http://img.chenzian.com/uPic/image-20220811195137954_2022_08_11_19_51_38.png)



































































## å‚è€ƒ

[^1]: Armour.  [vue-typescript-admin-template](https://github.com/Armour/vue-typescript-admin-template)
[^2]: Electron. [æ–‡æ¡£-å®‰è£…æŒ‡å¯¼](https://www.electronjs.org/zh/docs/latest/tutorial/installation)
[^3]: è®¸å…¬å­ä¸¶.[macOS - ç»™Terminalç»ˆç«¯å‘½ä»¤è¡Œé…ç½®ç½‘ç»œä»£ç†çš„æ–¹æ³•](https://www.jianshu.com/p/0ad19c5e7def)
[^4]: [stackoverflow](https://stackoverflow.com/questions/60054531/how-can-i-solve-the-connection-problem-during-npm-install-behind-a-proxy)
[^5]: 




